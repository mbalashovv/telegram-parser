# Telegram Parser
## Описание

Серсис предназначен для переодического сбора сообщений с предосталвенных ресурсов.
Ресурсами могут выступать **каналы** и **группы**, как закрытые так и открытые. 
Для чтения сообщений из них ваш аккаунт должен находиться в этих группах/каналах.

## Как пользоваться?

Перед запуском основной программы вам необходимо иметь базу данных sqlite3 с входом в ваш телеграм аккаунт.
Она нужна для того, чтобы каждый раз не производить логин в телеграм. Эта базу будет использовать программа для
взаимодействия с Telegram API.

### Последовательность действий:

1) Сразу необходимо будет создать файл `.env`, в котором будут все настройки. Файл создавать по шаблону `.env.example`. 
В этом файле также потребуется ваш api-id и api-hash в телеграме, который вы можете узнать на https://my.telegram.org/

2) Далее нужно запустить скрипт `session_maker.py`. Далее необходимо будет ввести номер телефона, код который придет и пароль
```shell
python session_maker.py
Please enter your phone (or bot token): 79999999999
Please enter the code you received: 81940
Please enter your password:
Signed in successfully as Max; remember to not break the ToS or you will risk an account ban!
```
После успешного вывода вы можете увидеть файл `sessions/anon.session` (путь можно задавать в .env файле).

3) После прописывания в файл настроек вы можете запустить программу
```shell
make docker_build
```

**Важно!**
Данные заносимые в PostgreSQL во время работы - временный, т.к. не указаны volumes в файле `docker-compose.yaml`.


## Инструменты и зависимости  

Telegram Parser использует ряд ключевых библиотек и инструментов для эффективного извлечения и обработки данных. Ниже представлен список основных зависимостей проекта:  

- **[Python 3.12](https://www.python.org/)** – Основной язык программирования проекта.  
- **[Telethon 1.39.0](https://github.com/LonamiWebs/Telethon)** – Библиотека для взаимодействия с API Telegram, используемая для получения сообщений, информации о пользователях и других данных.  
- **[Yoyo-Migrations 9.0.0](https://ollycope.com/software/yoyo/)** – Легковесный инструмент миграции базы данных для удобного управления изменениями схемы.  
- **[asyncpg 0.30.0](https://github.com/MagicStack/asyncpg)** – Высокопроизводительный асинхронный драйвер для работы с PostgreSQL.  
- **[Pydantic 2.10.6](https://docs.pydantic.dev/)** – Библиотека для валидации данных и управления настройками в Python, обеспечивающая строгую типизацию данных.  
- **[python-dotenv 1.0.1](https://github.com/theskumar/python-dotenv)** – Утилита для загрузки переменных окружения из файла `.env`, упрощающая управление конфигурацией.  

Эти инструменты позволяют Telegram Parser эффективно получать, обрабатывать, проверять и сохранять данные, обеспечивая надежное управление базой данных.
